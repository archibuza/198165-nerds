function hideFeedbackForm(){modalOverlay.classList.remove("show"),modalFeedback.classList.remove("show");for(var a=form.querySelectorAll(".error"),b=0;b<a.length;b++)a[b].classList.remove("error")}function showFeedbackForm(){modalOverlay.classList.add("show"),modalFeedback.classList.add("show"),getLocalStorageValues(),fieldName.value?fieldMsg.focus():fieldName.focus()}function setLocalStorage(){localStorage.setItem("userName",fieldName.value),localStorage.setItem("userEmail",fieldEmail.value)}function getLocalStorageValues(){fieldName.value=localStorage.getItem("userName"),fieldEmail.value=localStorage.getItem("userEmail")}function switchSlidesTo(a){container.querySelector(".slide.active").classList.remove("active"),container.querySelector("li.active").classList.remove("active"),slides[a].classList.add("active"),controls[a].classList.add("active")}function showNext(){var a=container.querySelector("li.active").id.split("-")[1],b=(a+1)%slidersQty;switchSlidesTo(b)}var btnShowModal=document.getElementById("btnShowModal"),btnHideModal=document.querySelector('.modal-feedback button[data-role="closing"]'),modalFeedback=document.querySelector(".modal-feedback"),modalOverlay=document.querySelector(".modal-overlay"),form=document.querySelector(".modal-feedback form"),fieldName=document.querySelector('.modal-feedback input[name="name"]'),fieldEmail=document.querySelector('.modal-feedback input[name="email"]'),fieldMsg=document.querySelector('.modal-feedback textarea[name="message"]');btnShowModal.addEventListener("click",function(a){a.preventDefault(),showFeedbackForm()}),btnHideModal.addEventListener("click",function(a){a.preventDefault(),hideFeedbackForm()}),modalOverlay.addEventListener("click",function(a){a.preventDefault(),hideFeedbackForm()}),window.addEventListener("keydown",function(a){27===a.keyCode&&hideFeedbackForm()}),form.addEventListener("submit",function(a){var b=!1;fieldName.value?fieldName.classList.remove("error"):(a.preventDefault(),fieldName.classList.add("error"),b=!0),fieldEmail.value?fieldEmail.classList.remove("error"):(a.preventDefault(),fieldEmail.classList.add("error"),b=!0),fieldMsg.value?fieldMsg.classList.remove("error"):(a.preventDefault(),fieldMsg.classList.add("error"),b=!0),b||setLocalStorage()}),ymaps.ready(function(){var a=document.querySelector(".map-canvas"),b=new ymaps.Map(a,{center:[59.938868,30.322078],controls:[],zoom:18},{searchControlProvider:"yandex#search"}),c=new ymaps.Placemark([59.93868,30.323038],{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"img/map-pointer.png",iconImageSize:[231,190],iconImageOffset:[-50,-190]});b.geoObjects.add(c)});const slidersQty=3;for(var container=document.querySelector(".slider"),controls=document.querySelectorAll(".slider-controls li"),slides=document.querySelectorAll(".slide"),interval=setInterval(showNext,5e3),i=0;i<controls.length;i++)controls[i].addEventListener("click",function(a){var b=this.id.split("-")[1];switchSlidesTo(b),clearInterval(interval),interval=setInterval(showNext,5e3)});
